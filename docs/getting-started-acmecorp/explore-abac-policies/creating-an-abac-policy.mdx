---
sidebar_label: Create an ABAC Policy
---

# Creating an Attribute Based Access Control Policy

We're going to create an ABAC policy that will interact with our PeopleFinder application.

## Create the policy repository

First, open the Aserto Console and navigate to the **Policies** tab. Click on the "Creat a new repository" button:

<img src="/getting-started-acmecorp/create-new-repo-button.png" width="200px" />

Select "Use a template":

<img src="/getting-started-acmecorp/use-template-options.png" width="700px" />

Choose your source code provider:

<img
  src="/getting-started-acmecorp/select-source-code-provider.png"
  width="600px"
/>

Create a new policy based on the `policy-peoplefinder-abac` template, and name the repo `policy-peoplefinder-abac`.

<img
  src="/getting-started-acmecorp/select-org-and-repo-peoplefinder-abac.png"
  width="600px"
/>

Finally, name your policy repository `peoplefinder-abac`, and click "Create a new policy repository":

<img src="/getting-started-acmecorp/policy-repo-name-abac.png" width="600px" />

## Create the authorizer instance

Navigate to the **Authorizer** tab and click "Create a new authorizer instance":

You'll be prompted to select a policy registry:

[select-policy-registry](/select-policy-registry.png)

Select `aserto-policy-registry` from the dropdown.

//TODO:

<!-- []() -->

Next, from the "Select organization" dropdown select your personal (account) organization.

//TODO:

<!-- []() -->

From the "Policy repository" dropdown, select "peoplefinder-abac".

//TODO:

<!-- []() -->

From the "Tag list" dropdown, select "latest".

Finally, name your instance `peoplefinder-abac` and click "Create an instance".

//TODO:

<!-- []() -->

Open the authorizer instance once it is created, and open the `peoplefinder.POST.api.users.__id` module.

![console-policy-peoplefinder-post](/getting-started-acmecorp/console-policy-peoplefinder-post.png)

As you can see, this policy is slightly different from the RBAC policy we created before: instead of referencing the `data` object (which is based on the definitions in the `data.json` file) and the roles defined there, it uses the user's _attributes_ to determine whether they are equal to a specific value.

In this module, we check whether the user's `department` attribute is equal to `Operations`. If the check yields a `true` value, the user will be `allowed` to perform the `POST` operation on the `/api/users/:id` resource - which means they'll be able to update the `title` and `department` attributes of another user.

This policy will result in a dynamic behavior of the authorization model: any user assigned to the `Operations` department _at runtime_ will now have the permission to make updates to other users as well.

Let's update our PeopleFinder application to point to this new policy to see it in action.
